PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "tbVendors" (
	id INTEGER NOT NULL,
	name VARCHAR,
	uniqid VARCHAR,
	pubkey VARCHAR,
	prvkey VARCHAR,
	created DATETIME,
	PRIMARY KEY (id)
);
INSERT INTO tbVendors VALUES(1,'Vendor_A','4fc558bfa91c4a72814ae4032354348f',X'2d2d2d2d2d424547494e205055424c4943204b45592d2d2d2d2d0a4d4947664d413047435371475349623344514542415155414134474e4144434269514b426751444275414f62337a7556764e68337a69312f76504848716335740a4a4a774956794b516b6f417169367a386364514e5950622f3267664a6e2f343367776747674f57556f4a6143624d77483636755a4c724b6255682b324c5939380a7232687531587331556233756377323250453477644d35526751722f764337634777686f5741334c644f7565566b357636424e6c515372512f56734c756432700a51795337312b7249695246305577643273774944415141420a2d2d2d2d2d454e44205055424c4943204b45592d2d2d2d2d',X'2d2d2d2d2d424547494e205253412050524956415445204b45592d2d2d2d2d0a4d4949435777494241414b426751444275414f62337a7556764e68337a69312f76504848716335744a4a774956794b516b6f417169367a386364514e5950622f0a3267664a6e2f343367776747674f57556f4a6143624d77483636755a4c724b6255682b324c5939387232687531587331556233756377323250453477644d35520a6751722f764337634777686f5741334c644f7565566b357636424e6c515372512f56734c7564327051795337312b7249695246305577643273774944415141420a416f47414d554174657257596d6f73327063372f646c6839522f762b4258576e54642b4a5a4351362f5a596856745642796c7a36727a577067544e79474837780a7a5756372b50755443486e4d7262375845387a786a39656a512b6166593931565067687065626963517766676256334a772b65357a45784749472f76383757300a785731414c4971457152364c51553378772b7256634d325649367057384c335a77473254767857426c53424961474543515144566752494a6a2f6d394c6d586d0a53483241647864352f586b356b703946622b75644969436a4933454c7a58706e737966464541505665355856525973384443546b754e51314b736358437338640a74724a5776557670416b45413645624c7a504976336d4a5a56424d566e723044426535374b69377869467637576d4630322f68576e68354e6f5642674a632b570a487955436f7768573473326a5648467a364d6d47424a453879625936497577344f774a4143714234413133564d6d4e6930776c38706135487a7479633867366f0a4f73364e546137724c504f5170754f3957666743334c346c55725471436b6d4232715649474e4a535461737061613479444f7152436477324d514a41434b744c0a772f52754550432b774d4b4e6c6755623763612b316734326559356c54545242396b764966394a467433575767524c45575a6b364266657a746e6453567a35380a77763179675130697061796c637451364c514a4153492b5774726e3072344c5659507a5970397334514d6939664f2f506a4776507143335038427935444e59790a31666c3751536b613354657a38415736366b65496934514f786777675169484f3663514a7855774b32513d3d0a2d2d2d2d2d454e44205253412050524956415445204b45592d2d2d2d2d','2018-03-28 13:36:02.088698');
INSERT INTO tbVendors VALUES(2,'Vendor_B','d2eadfa30d264a148bf91b1e5a10ae1a',X'2d2d2d2d2d424547494e205055424c4943204b45592d2d2d2d2d0a4d4947664d413047435371475349623344514542415155414134474e4144434269514b4267514331492f52704c48367277772f654e353047614e784b5a596d620a6877487245652b6e64785a35536131695349777550566d595554536a2b4c3374535578687647455a794c694537586251624b76516f666144755977576a6765560a4642685842525a4f716e6274503041393952674d6e6e567273706a6a534b5a6a586f3366496f6f4c564c33786c4d317471476f794657343734613756493243690a41694f4242764d4e4a48684d6d4c665a44514944415141420a2d2d2d2d2d454e44205055424c4943204b45592d2d2d2d2d',X'2d2d2d2d2d424547494e205253412050524956415445204b45592d2d2d2d2d0a4d4949435851494241414b4267514331492f52704c48367277772f654e353047614e784b5a596d626877487245652b6e64785a35536131695349777550566d590a5554536a2b4c3374535578687647455a794c694537586251624b76516f666144755977576a6765564642685842525a4f716e6274503041393952674d6e6e56720a73706a6a534b5a6a586f3366496f6f4c564c33786c4d317471476f7946573437346137564932436941694f4242764d4e4a48684d6d4c665a44514944415141420a416f4742414b316175343373423035615839564c592f752b587854554639334156785768464c6f77506c48564d526e6556456e73624e4a5935516749426277520a61676766514d357353697274463868674f413579386e6b654766486442556e6856716750587171476d4344327a54794e663848597436684c4a714373322b45540a635065664f5061424a666a49716f6d776b5550306a434a793063736f5478484d4855494c4e49625a4d416c494a477742416b454176376c632b314735496f35300a42776b4c78754853497a4676424233504b524e316e4973384f626b41634541684934692b2f53704636594d395868656652326f6a7749465448477a6e525879780a62746d714a327a7135774a4241504865515a71376d3244766c636a4741313552724475324f666e36467364653258703879304c4d64793936616652387a454e670a2f5a507a69714b697936435638535970516a3968352f55354b4851573678684b4d6573435151437633775153627263626f6632426271546b2f635863447236390a30664a307861722f7653477a2b616354555743557a683455386a424c737434616343546d523945674341494c63304c376c5254576b4d6a72665a6846416b41720a396b486d5a674d763831772b53662b4376555759394e354532586761644e7343734877686742694a774b3552696631326f634a31696562412b4f5961496962610a304e554277454878434a715a767a4373455a4252416b424779732b55793247707770784251543267376657524e416a5239426f41704d37493037454d305757440a6a5747433754772f486a695678675454654f4c442f33794d7966335a4c4335366d4f7a4e61556977766671570a2d2d2d2d2d454e44205253412050524956415445204b45592d2d2d2d2d','2018-03-28 13:36:02.674698');
INSERT INTO tbVendors VALUES(3,'Vendor_C','0a054e79654e45068b4d4c61e8c34d92',X'2d2d2d2d2d424547494e205055424c4943204b45592d2d2d2d2d0a4d4947664d413047435371475349623344514542415155414134474e4144434269514b42675143505447613864724e612f356555525a2f69426939346d612f310a73356d446d75686d354e32566e34515a6c774e7436367362684e715033633452745561366266316c55633066572f6b74616e586e7a374e55695637554b5938390a37594269426c66456847716471446655362f50497a52476e65716a7967444534706b576f356f79673251355632446a7a6d682f6f4d49464736685a72597545540a6b734a4e482b2b68564d45754c4e6e7770514944415141420a2d2d2d2d2d454e44205055424c4943204b45592d2d2d2d2d',X'2d2d2d2d2d424547494e205253412050524956415445204b45592d2d2d2d2d0a4d4949435841494241414b42675143505447613864724e612f356555525a2f69426939346d612f3173356d446d75686d354e32566e34515a6c774e74363673620a684e715033633452745561366266316c55633066572f6b74616e586e7a374e55695637554b59383937594269426c66456847716471446655362f50497a52476e0a65716a7967444534706b576f356f79673251355632446a7a6d682f6f4d49464736685a72597545546b734a4e482b2b68564d45754c4e6e7770514944415141420a416f474141397258544b7959794a4c6c6e66783966355152424e71466a454f486c713239494c3935596f51484272553052326d326b6166795254702f523653720a77576f6944653630614f714e656e5a4a73374733726b642f77495548324c4679654537475a336761337879655a2b6863624178794a556b4435726a45486879360a6e61434e6f52563566786861623779306173566e4f5144713049734e33726f774d54306b4446675452327548693645435151433169494253565771444a4d50730a6c522b6b3250573879554a78664d7a495232566e56682b6662304d6e64734e506f6a466f314a63356e65316f64717278544b316e2f714668786a5251774335490a33494451747a364a416b454179685334657a4c583934314a48326870434475436b335450744e734851494c38716859527965505a6d4e76563032544d6d3141450a792f42456b7073744b4a5a7179364863564567666c6536643356596f4f35303650514a42414a685441646f55636c7534376534473835615074795043665535640a4f6a69554d444b5677644d3275564c55424f3839576468744372662b484d6762537a564f38664c685a756c304e31484b385175536530536e666f45435145494a0a33585064584c6834676f487946416a74736246516869513751375a77562f4f5a664c7932616b444b37716a446b78336157346275414f724d4c556a4c5279452b0a7877722f2b74703766546c3830323850355a30435146716b71333954754178674662312b47795a6d77653450696741674d693362684e2b466e36644a764435700a736c706c537a6e726f584c446e634b67453741322b4f5578354d633373434b504d4557554261777a38576f3d0a2d2d2d2d2d454e44205253412050524956415445204b45592d2d2d2d2d','2018-03-28 13:36:03.019698');
CREATE TABLE IF NOT EXISTS "tbMedicines" (
	id INTEGER NOT NULL, 
	name VARCHAR, 
	created DATETIME, 
	PRIMARY KEY (id)
);
INSERT INTO tbMedicines VALUES(1,'Med_aaa','2018-03-28 13:36:03.034698');
INSERT INTO tbMedicines VALUES(2,'Med_bbb','2018-03-28 13:36:03.034698');
INSERT INTO tbMedicines VALUES(3,'Med_ccc','2018-03-28 13:36:03.034698');
CREATE TABLE IF NOT EXISTS "tbTransactions" (
	id INTEGER NOT NULL, 
	medicine_id INTEGER, 
	buyer_id INTEGER, 
	seller_id INTEGER, 
	created DATETIME, 
	last_update DATETIME, 
	state INTEGER, 
	parent_trans_id INTEGER, secret varchar default 'secret', 
	PRIMARY KEY (id), 
	FOREIGN KEY(medicine_id) REFERENCES "tbMedicines" (id), 
	FOREIGN KEY(buyer_id) REFERENCES "tbVendors" (id), 
	FOREIGN KEY(seller_id) REFERENCES "tbVendors" (id)
);
INSERT INTO tbTransactions VALUES(1,1,2,1,'2018-03-28 13:36:03.055698','2018-03-28 13:36:03.055698',2,-1,'secret');
INSERT INTO tbTransactions VALUES(2,1,3,2,'2018-03-28 13:36:03.077698','2018-03-28 13:36:03.077698',2,1,'secret');
INSERT INTO tbTransactions VALUES(3,2,2,1,'2018-03-28 13:36:03.098698','2018-03-28 13:36:03.098698',2,-1,'secret');
INSERT INTO tbTransactions VALUES(4,2,3,2,'2018-03-28 13:36:03.122698','2018-03-28 13:36:03.122698',2,3,'secret');
INSERT INTO tbTransactions VALUES(5,3,2,1,'2018-03-28 13:36:03.144698','2018-03-28 13:36:03.144698',2,-1,'secret');
INSERT INTO tbTransactions VALUES(6,3,3,2,'2018-03-28 13:36:03.162698','2018-03-28 13:36:03.162698',2,5,'secret');
INSERT INTO tbTransactions VALUES(7,1,1,3,'2018-03-28 14:06:04.762298','2018-03-28 14:15:43.669598',2,2,'secret');
INSERT INTO tbTransactions VALUES(8,1,2,1,'2018-03-28 15:05:24.287798','2018-03-29 11:40:17.347998',2,7,'secret');
INSERT INTO tbTransactions VALUES(9,1,3,2,'2018-03-29 11:40:38.065998','2018-04-03 13:38:03.930900',2,8,'secret');
INSERT INTO tbTransactions VALUES(10,1,1,3,'2018-04-03 15:01:08.009300','2018-04-03 15:01:41.315300',2,9,'secret');
INSERT INTO tbTransactions VALUES(11,1,2,1,'2018-04-03 15:02:39.998300','2018-04-03 15:02:39.998300',1,10,'secret');
CREATE TABLE IF NOT EXISTS "tbHolds" (
	id INTEGER NOT NULL, 
	medicine_id INTEGER, 
	holder_id INTEGER, 
	last_trans_id INTEGER, 
	is_pending BOOLEAN, 
	PRIMARY KEY (id), 
	FOREIGN KEY(medicine_id) REFERENCES "tbMedicines" (id), 
	FOREIGN KEY(holder_id) REFERENCES "tbVendors" (id), 
	FOREIGN KEY(last_trans_id) REFERENCES "tbTransactions" (id), 
	CHECK (is_pending IN (0, 1))
);
INSERT INTO tbHolds VALUES(1,1,1,11,1);
INSERT INTO tbHolds VALUES(2,2,3,4,0);
INSERT INTO tbHolds VALUES(3,3,3,6,0);
COMMIT;
